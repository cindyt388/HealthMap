{"ast":null,"code":"var _jsxFileName = \"/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js\";\nimport React from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport { withRouter } from 'react-router-dom';\n\nfunction tConvert(time) {\n  // Check correct time format and split into components\n  time = time.toString().match(/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) {\n    // If time format correct\n    time = time.slice(1); // Remove full string match value\n\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\n  time[3] = \" \";\n  return time.join(''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n  if (open == close) return false;\n  let o = open.split(':'); // split it at the colons\n\n  let c = close.split(':'); // minutes are worth 60 seconds. Hours are worth 60 minutes.\n\n  let o_seconds = +o[0] * 60 * 60 + +o[1] * 60 + +o[2];\n  let c_seconds = +c[0] * 60 * 60 + +c[1] * 60 + +c[2];\n  let seconds = new Date().getTime() / 1000;\n  return seconds >= o_seconds && c_seconds >= seconds;\n}\n\nfunction mapTileProvider(x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n  let hr = [];\n\n  for (let i = 0; i < 7; i++) {\n    if (hours[i].hour_open == hours[i].hour_close) {\n      hr[i] = \"Closed\";\n    } else {\n      hr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n    }\n  }\n\n  return hr;\n}\n\nfunction createChecks(data, type) {\n  let checks = [];\n\n  for (let i = 0; i < data.length; i++) checks.push( /*#__PURE__*/React.createElement(CheckText, {\n    name: \"checkIcon\",\n    text: data[i][type],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }));\n\n  return checks;\n}\n\nclass ResultPage extends React.Component {\n  constructor(props) {\n    super(props);\n    let loc = props.location.state;\n    let d = new Date();\n    let n = d.getDay();\n    this.state = {\n      lat: loc.lat,\n      lng: loc.lng,\n      name: loc.name,\n      language: createChecks(loc.language, \"language\"),\n      insurance: createChecks(loc.insurance, \"insurance\"),\n      treatment: createChecks(loc.treatment, \"treatment\"),\n      address: loc.rows[0].address,\n      state: loc.rows[0].state,\n      zipcode: loc.rows[0].zipcode,\n      city: loc.rows[0].city,\n      phone: loc.rows[0].phone,\n      hours: convertHours(loc.rows),\n      currentOpen: loc.rows[n].hour_open,\n      currentClose: loc.rows[n].hour_close,\n      isOpen: isOpen(loc.rows[n].hour_open, loc.rows[n].hour_close) ? \"Open\" : \"Close\"\n    };\n  }\n\n  render() {\n    let d = new Date();\n    let n = d.getDay();\n    const map = /*#__PURE__*/React.createElement(Map, {\n      provider: mapTileProvider,\n      center: [this.state.lng, this.state.lat],\n      zoom: 16,\n      dprs: [1, 2],\n      mouseEvents: false,\n      touchEvents: false,\n      width: 250,\n      height: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      anchor: [this.state.lng, this.state.lat],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.resultContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.header,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      name: styles.searchLogo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(SearchInput, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.body,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.bodyHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 6\n      }\n    }, this.state.name), /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.currentHour,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }\n    }, (this.state.hours[n] != \"Closed\" ? \"Open\" : \"\") + \" \" + this.state.hours[n])), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.about,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 6\n      }\n    }, \" About \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 6\n      }\n    }, \" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.locationHours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 6\n      }\n    }, \" Location and Hours \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 6\n      }\n    }, map, /*#__PURE__*/React.createElement(\"h5\", {\n      className: styles.address,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, this.state.address, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 60\n      }\n    }), \"  \", this.state.city + \", \" + this.state.state + \" \" + this.state.zipcode, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.hours,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }\n    }, \"Mon\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 41\n      }\n    }, this.state.hours[0]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }\n    }, \"Tue\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 41\n      }\n    }, this.state.hours[1]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, \"Wed\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, this.state.hours[2]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, \"Thu\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 41\n      }\n    }, this.state.hours[3]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, \"Fri\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 41\n      }\n    }, this.state.hours[4]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, \"Sat\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 41\n      }\n    }, this.state.hours[5]), /*#__PURE__*/React.createElement(\"b\", {\n      className: styles.day7,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 7\n      }\n    }, \"Sun\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hour7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 41\n      }\n    }, this.state.hours[6]))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ameneties,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.language,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, \"Language\"), this.state.language, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 28\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.insurance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, \"Insurance\"), this.state.insurance, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.treatment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, \"Treatments\"), this.state.treatment, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(SimpleList, {\n      directions: \"https://google.com\",\n      phone: this.state.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(ResultPage);","map":{"version":3,"sources":["/Users/donald/Desktop/react_test/client/src/searchPage/Results/ResultPage.js"],"names":["React","SearchInput","Map","Marker","SimpleList","CheckText","Logo","styles","withRouter","tConvert","time","toString","match","length","slice","join","isOpen","open","close","o","split","c","o_seconds","c_seconds","seconds","Date","getTime","mapTileProvider","x","y","z","dpr","convertHours","hours","hr","i","hour_open","hour_close","createChecks","data","type","checks","push","ResultPage","Component","constructor","props","loc","location","state","d","n","getDay","lat","lng","name","language","insurance","treatment","address","rows","zipcode","city","phone","currentOpen","currentClose","render","map","resultContainer","header","searchLogo","body","content","bodyHeader","currentHour","about","locationHours","day1","day2","day3","day4","day5","day6","day7","ameneties"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchInput from '../../Shared/SearchInput.js';\nimport Map from 'pigeon-maps';\nimport Marker from 'pigeon-marker';\nimport SimpleList from './SideLinks.js';\nimport CheckText from './PaymentCheck.js';\nimport Logo from '../../Shared/Logo.js';\nimport styles from './resultPage.module.css';\nimport { withRouter } from 'react-router-dom';\n\n\nfunction tConvert (time) {\n  // Check correct time format and split into components\n  time = time.toString ().match (/^([01]\\d|2[0-3])(:)([0-5]\\d)(:[0-5]\\d)?$/) || [time];\n\n  if (time.length > 1) { // If time format correct\n    time = time.slice (1);  // Remove full string match value\n    time[5] = +time[0] < 12 ? 'AM' : 'PM'; // Set AM/PM\n    time[0] = +time[0] % 12 || 12; // Adjust hours\n  }\n\ttime[3] = \" \";\n  return time.join (''); // return adjusted time or original string\n}\n\nfunction isOpen(open, close) {\n\tif (open == close)\n\t\treturn false;\n\tlet o = open.split(':'); // split it at the colons\n\tlet c = close.split(':');\n\t// minutes are worth 60 seconds. Hours are worth 60 minutes.\n\tlet o_seconds = (+o[0]) * 60 * 60 + (+o[1]) * 60 + (+o[2]); \n\tlet c_seconds = (+c[0]) * 60 * 60 + (+c[1]) * 60 + (+c[2]);\n\t\n\tlet seconds = new Date().getTime() / 1000;\n\treturn seconds >= o_seconds && c_seconds >= seconds;\n}\n\n\nfunction mapTileProvider (x, y, z, dpr) {\n  return `https://api.maptiler.com/maps/streets/256/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png?key=0qXe9fatH9TgwZzcuFgC`;\n}\n\nfunction convertHours(hours) {\n\tlet hr = [];\n\tfor (let i = 0; i < 7; i++) {\n\t\tif (hours[i].hour_open == hours[i].hour_close) {\n\t\t\thr[i] = \"Closed\";\n\t\t\t}\n\t\telse {\n\t\t\thr[i] = tConvert(hours[i].hour_open) + \" - \" + tConvert(hours[i].hour_close);\n\t\t}\n\t} \t\n\treturn hr;\n}\n\nfunction createChecks(data, type) {\n\tlet checks = [];\n\tfor (let i = 0; i < data.length; i++)\n\t\tchecks.push(<CheckText name=\"checkIcon\" text={data[i][type]}/>);\t\n\treturn checks;\n}\n\nclass ResultPage extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tlet loc = props.location.state;\n\t\tlet d = new Date();\n\t\tlet n = d.getDay();\n\n\t\tthis.state = {\n\t\t\tlat: loc.lat,\n\t\t\tlng: loc.lng,\n\t\t\tname: loc.name,\n\t\t\tlanguage: createChecks(loc.language, \"language\"),\n\t\t\tinsurance: createChecks(loc.insurance, \"insurance\"),\n\t\t\ttreatment: createChecks(loc.treatment, \"treatment\"),\n\t\t\taddress: loc.rows[0].address,\n\t\t\tstate: loc.rows[0].state,\n\t\t\tzipcode: loc.rows[0].zipcode,\n\t\t\tcity: loc.rows[0].city,\n\t\t\tphone: loc.rows[0].phone,\n\t\t\thours: convertHours(loc.rows),\n\t\t\tcurrentOpen: loc.rows[n].hour_open,\n\t\t\tcurrentClose: loc.rows[n].hour_close,\n\t\t\tisOpen: (isOpen(loc.rows[n].hour_open, loc.rows[n].hour_close)) ? \"Open\" : \"Close\"\n\t\t}\n\t}\n\n\trender() {\n\t\tlet d = new Date();\n\t\tlet n = d.getDay();\n\n\t\tconst map = (\n\t\t\t<Map provider={mapTileProvider} center={[this.state.lng, this.state.lat]} zoom={16} dprs={[1, 2]} mouseEvents={false} touchEvents={false} width={250} height = {150}>\n\t\t\t\t<Marker anchor={[this.state.lng, this.state.lat]} />\n\t\t\t</Map>\n\n\t\t);\n\n\t\treturn (\n\t\t<div className = {styles.resultContainer}>\n\t\t\t<div className = {styles.header}>\n\t\t\t\t<Logo name={styles.searchLogo}/>\n\t\t\t\t<SearchInput />\t\n\t\t\t</div>\n\t\t\n\t\t\t<div className = {styles.body}>\n\t\t\t\t<div className = {styles.content}>\n\n\t\t\t\t<div className = {styles.bodyHeader}>\n\t\t\t\t\t<h1>{this.state.name}</h1>\n\t\t\t\t\t<h3 className = {styles.currentHour}>{((this.state.hours[n] != \"Closed\") ? \"Open\" : \"\") + \" \" + this.state.hours[n]}</h3>\n\t\t\t\t</div>\n\n\t\t\t\t<div className = {styles.about}>\n\t\t\t\t\t<h2> About </h2>\n\t\t\t\t\t<p> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla id sapien iaculis, ornare nisi id, malesuada sapien. Curabitur luctus tincidunt augue, sit amet tincidunt nibh ornare a. Mauris bibendum rhoncus dui non sodales. Integer sit amet magna nec arcu egestas fringilla. Nunc sit amet sem eget tortor hendrerit egestas. Phasellus et dignissim turpis. Maecenas ac porta dui, ac semper ante. Phasellus in augue felis. </p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className = {styles.locationHours}>\n\t\t\t\t\t<h2> Location and Hours </h2>\n\t\t\t\t\t<div className = {styles.map}>\n\t\t\t\t\t\t{map}\n\t\t\t\t\t\t<h5 className = {styles.address}>{this.state.address}<br />  {this.state.city + \", \" + this.state.state + \" \" + this.state.zipcode} </h5>\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.hours}>\n\t\t\t\t\t\t<b className={styles.day1}>Mon</b><div className=\"hour1\">{this.state.hours[0]}</div>\n\t\t\t\t\t\t<b className={styles.day2}>Tue</b><div className=\"hour2\">{this.state.hours[1]}</div>\n\t\t\t\t\t\t<b className={styles.day3}>Wed</b><div className=\"hour3\">{this.state.hours[2]}</div>\n\t\t\t\t\t\t<b className={styles.day4}>Thu</b><div className=\"hour4\">{this.state.hours[3]}</div>\n\t\t\t\t\t\t<b className={styles.day5}>Fri</b><div className=\"hour5\">{this.state.hours[4]}</div>\n\t\t\t\t\t\t<b className={styles.day6}>Sat</b><div className=\"hour6\">{this.state.hours[5]}</div>\n\t\t\t\t\t\t<b className={styles.day7}>Sun</b><div className=\"hour7\">{this.state.hours[6]}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t</div>\n\n\t\t\t\t\t<div className = {styles.ameneties}>\n\t\t\t\t\t\t<div className = {styles.language}>\n\t\t\t\t\t\t<h4>Language</h4>\n\t\t\t\t\t\t{this.state.language}<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = {styles.insurance}>\n\t\t\t\t\t\t<h4>Insurance</h4>\n\t\t\t\t\t\t{this.state.insurance}<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className = {styles.treatment}>\n\t\t\t\t\t\t<h4>Treatments</h4>\n\t\t\t\t\t\t{this.state.treatment}<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<SimpleList directions = {\"https://google.com\"} phone = {this.state.phone} />\n\t\t\t</div>\n\t\t</div>\n\t\t)\n\t}\n}\t\n\nexport default withRouter(ResultPage);\n\n"]},"metadata":{},"sourceType":"module"}